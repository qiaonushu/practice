(function(e){function t(t){for(var n,a,c=t[0],i=t[1],s=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);f&&f(t);while(d.length)d.shift()();return u.push.apply(u,s||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(u.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o={app:0},u=[];function c(e){return i.p+"js/"+({articledetails:"articledetails","home~setdata":"home~setdata",home:"home",setdata:"setdata",login:"login",search:"search",searchresult:"searchresult",user:"user",xs:"xs"}[e]||e)+"."+{articledetails:"f8ab7a23","home~setdata":"e3f85239",home:"c3ecd37e",setdata:"6dc38f38",login:"89c6d43e",search:"e1d363cd",searchresult:"85a237aa",user:"784f14ea",xs:"51bc7738"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={articledetails:1,home:1,setdata:1,login:1,search:1,searchresult:1,user:1,xs:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({articledetails:"articledetails","home~setdata":"home~setdata",home:"home",setdata:"setdata",login:"login",search:"search",searchresult:"searchresult",user:"user",xs:"xs"}[e]||e)+"."+{articledetails:"8ce8dc34","home~setdata":"31d6cfe0",home:"d4c7f874",setdata:"289bb507",login:"c26d169f",search:"4d527251",searchresult:"873b6f99",user:"422b10ab",xs:"c76bf234"}[e]+".css",o=i.p+n,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===n||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],l=s.getAttribute("data-href");if(l===n||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=n,delete a[e],f.parentNode.removeChild(f),r(u)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var u=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=u);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}o[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;u.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"30a3":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return c}));var n=r("b775"),a=function(e){var t=e.type,r=void 0===t?"a":t,a=e.source,o=e.offset,u=e.limit,c=void 0===u?10:u;return Object(n["a"])({url:"/v1_0/comments",params:{type:r,source:a,offset:o,limit:c}})},o=function(e){return Object(n["a"])({url:"/v1_0/comment/likings",method:"POST",data:{target:e}})},u=function(e){return Object(n["a"])({url:"/v1_0/comment/likings/"+e,method:"DELETE"})},c=function(e){var t=e.content,r=e.target;return console.log(t,r),Object(n["a"])({url:"/v1_0/comments",method:"POST",data:{content:t,target:r}})}},4360:function(e,t,r){"use strict";var n=r("2b0e"),a=r("2f62"),o=r("1da1"),u=(r("96cf"),r("d3b7"),r("4de4"),r("f5c7"),r("30a3"),r("b775")),c=function(){return Object(u["a"])({url:"/v1_0/user/channels",headers:{Authorization:"Bearer ".concat(O.state.Login.token)}})},i=function(){return Object(u["a"])({url:"/v1_0/channels",is_Auto:!1})},s=function(e){return Object(u["a"])({url:"/v1_0/user/channels",method:"PUT",data:{channels:e}})},l=r("fabd"),d=r("ae82"),f={namespaced:!0,state:function(){return{channelsList:[],AllChannelsList:[]}},mutations:{getChannels:function(e,t){e.channelsList=t},getAllChannels:function(e,t){e.AllChannelsList=t}},actions:{GetUserchannels:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c();case 3:return r=t.sent,n=r.data,e.commit("getChannels",n.data.channels),t.abrupt("return",Promise.resolve(n));case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},Getchannels:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i();case 3:return r=t.sent,n=r.data,e.commit("getAllChannels",n.data.channels),t.abrupt("return",Promise.resolve(n));case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},PutUserChannels:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(e.getters.updataChannelsList);case 3:return r=t.sent,n=r.data,t.abrupt("return",Promise.resolve(n));case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},getters:{updataChannelsList:function(e){return e.channelsList.filter((function(e,t){if(0!==e.id)return{seq:e.seq=t+1,id:e.id}}))}}},h=f,m=r("5d2d"),p={namespaced:!0,state:function(){return{token:Object(m["b"])("token")||"",refresh_token:Object(m["b"])("refresh_token")||"",formLogin:{mobile:13888888888,code:246810}}},mutations:{setToken:function(e,t){e.token=t},setRefresh_token:function(e,t){e.refresh_token=t}},actions:{getLogin:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d["c"])(e.state.formLogin);case 3:return r=t.sent,n=r.data,e.commit("setToken",n.data.token),e.commit("setRefresh_token",n.data.refresh_token),Object(m["d"])("token",n.data.token),Object(m["d"])("refresh_token",n.data.refresh_token),t.abrupt("return",Promise.resolve(n));case 12:return t.prev=12,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},b=p,v={namespaced:!0,state:function(){return{target:""}},mutations:{getTarget:function(e,t){e.target=t}},actions:{Postdislikes:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(l["f"])(t);case 3:return n=r.sent,a=n.data,e.commit("getTarget",a.data.target),r.abrupt("return",Promise.resolve(a));case 9:return r.prev=9,r.t0=r["catch"](0),r.abrupt("return",Promise.reject(r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},Postreports:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["g"])(t);case 3:return r=e.sent,n=r.data,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},GetArticleDetails:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["d"])(t);case 3:return r=e.sent,n=r.data,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},g=v;n["a"].use(a["a"]);var j=new a["a"].Store({modules:{Home:h,Login:b,Article:g}}),O=t["a"]=j},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("keep-alive",[r("router-view")],1)],1)},o=[],u={},c=u,i=r("2877"),s=Object(i["a"])(c,a,o,!1,null,null,null),l=s.exports,d=r("a18c"),f=r("4360"),h=r("b970"),m=r("343b");r("833e"),r("f0e6"),r("5cfb");function p(e){"TEXTAREA"===e.nodeName||"INPUT"===e.nodeName?e.focus():e.querySelector("input")?e.querySelector("input").focus():e.querySelector("textarea")&&e.querySelector("textarea").focus()}n["a"].directive("getFocus",{inserted:function(e){p(e)},update:function(e){p(e)}}),n["a"].config.productionTip=!1,n["a"].use(h["a"]),n["a"].use(m["a"],{lazyComponent:!0}),new n["a"]({router:d["a"],store:f["a"],render:function(e){return e(l)}}).$mount("#app")},"5d2d":function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return u}));var n=function(e,t){localStorage.setItem(e,t)},a=function(e){return localStorage.getItem(e)},o=function(e){localStorage.removeItem(e)},u=function(){localStorage.clear()}},a18c:function(e,t,r){"use strict";r("d3b7"),r("3ca3"),r("ddb0");var n=r("2b0e"),a=r("8c4f"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"layout"}},[r("router-view"),r("van-tabbar",{attrs:{route:""}},[r("van-tabbar-item",{attrs:{replace:"",to:"/layout/home",icon:"home-o"}},[e._v("首页")]),r("van-tabbar-item",{attrs:{replace:"",to:"/layout/user",icon:"setting-o"}},[e._v("我的")])],1)],1)},u=[],c={name:"layout"},i=c,s=r("2877"),l=Object(s["a"])(i,o,u,!1,null,null,null),d=l.exports,f=r("4360");n["a"].use(a["a"]);var h=[{path:"/",redirect:"/layout"},{path:"/login",component:function(){return r.e("login").then(r.bind(null,"d9c9"))}},{path:"/search",component:function(){return r.e("search").then(r.bind(null,"79ce"))}},{path:"/searchresult/:q",component:function(){return r.e("searchresult").then(r.bind(null,"23c9"))}},{path:"/articledetails/:id",component:function(){return r.e("articledetails").then(r.bind(null,"cb0b"))}},{path:"/xs",component:function(){return r.e("xs").then(r.bind(null,"6df9"))}},{path:"/layout",component:d,redirect:"/layout/home",children:[{path:"user",component:function(){return r.e("user").then(r.bind(null,"ef42"))}},{path:"home",component:function(){return Promise.all([r.e("home~setdata"),r.e("home")]).then(r.bind(null,"102e"))}},{path:"setdata",component:function(){return Promise.all([r.e("home~setdata"),r.e("setdata")]).then(r.bind(null,"f6e8"))}}]}],m=new a["a"]({routes:h});m.beforeEach((function(e,t,r){f["a"].state.Login.token.length>0&&"/login"===e.path?r(!1):r()}));t["a"]=m},ae82:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l}));r("b0c0");var n=r("b775"),a=r("4360"),o=function(e){var t=e.mobile,r=e.code;return Object(n["a"])({url:"/v1_0/authorizations",method:"POSt",data:{mobile:t,code:r},is_Auto:!1})},u=function(){return Object(n["a"])({url:"/v1_0/authorizations",method:"PUT",headers:{Authorization:"Bearer ".concat(a["a"].state.Login.refresh_token)}})},c=function(){return Object(n["a"])({url:"/v1_0/user"})},i=function(){return Object(n["a"])({url:"/v1_0/user/profile"})},s=function(e){return Object(n["a"])({url:"/v1_0/user/photo",method:"PATCH",data:e})},l=function(e){var t=e.birthday,r=e.name;return Object(n["a"])({url:"/v1_0/user/profile",method:"PATCH",data:{birthday:t,name:r}})}},b775:function(e,t,r){"use strict";var n=r("1da1"),a=(r("96cf"),r("d3b7"),r("bc3a")),o=r.n(a),u=r("ae82"),c=r("4360"),i=r("a18c"),s=r("5d2d"),l=o.a.create({baseURL:"http://toutiao.itheima.net"});t["a"]=function(e){var t=e.url,r=e.method,n=void 0===r?"GET":r,a=e.data,o=e.headers,u=e.params,c=e.is_Auto,i=void 0===c||c;return l({url:t,method:n,data:a,headers:o,params:u,is_Auto:i})},l.interceptors.request.use((function(e){return c["a"].state.Login.token.length>0&&void 0===e.headers.Authorization&&e.is_Auto&&(e.headers.Authorization="Bearer ".concat(c["a"].state.Login.token)),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(401!==t.response.status){e.next=11;break}return e.next=3,Object(u["f"])();case 3:return r=e.sent,n=r.data,c["a"].commit("Login/setToken",n.data.token),Object(s["d"])("token",n.data.token),t.config.headers.Authorization="Bearer ".concat(n.data.token),e.abrupt("return",l(t.config));case 11:500===t.response.status&&(c["a"].commit("Login/setToken",""),c["a"].commit("Login/setRefresh_Token",""),c["a"].commit("setUser",""),Object(s["a"])(),i["a"].push("/login?path=".concat(i["a"].currentRoute.path)));case 12:return e.abrupt("return",Promise.reject(t));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},f5c7:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r("b775"),a=function(e){return Object(n["a"])({url:"/v1_0/suggestion",params:{q:e}})},o=function(e){var t=e.q,r=e.page,a=void 0===r?1:r;return Object(n["a"])({url:"/v1_0/search",params:{q:t,page:a}})}},fabd:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"g",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"h",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return d}));var n=r("b775"),a=function(e){var t=e.channel_id,r=e.pre_timestamp;return Object(n["a"])({url:"/v1_0/articles",params:{channel_id:t,timestamp:r||(new Date).getTime()},is_Auto:!1})},o=function(e){var t=e.target;return Object(n["a"])({url:"/v1_0/article/dislikes",method:"POST",data:{target:t}})},u=function(e){var t=e.target,r=e.type,a=e.remark;return console.log(t,r,a),Object(n["a"])({url:"/v1_0/article/reports",method:"POST",data:{target:t,type:r,remark:a}})},c=function(e){return Object(n["a"])({url:"/v1_0/articles/"+e})},i=function(e){return Object(n["a"])({url:"/v1_0/user/followings",method:"POST",data:{target:e}})},s=function(e){return Object(n["a"])({url:"/v1_0/user/followings/"+e,method:"DELETE"})},l=function(e){return Object(n["a"])({url:"/v1_0/article/likings",method:"POST",data:{target:e}})},d=function(e){return Object(n["a"])({url:"/v1_0/article/likings/"+e,method:"DELETE"})}}});
//# sourceMappingURL=app.c1b0ee3e.js.map